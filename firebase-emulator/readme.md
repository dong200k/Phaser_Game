# Getting started

## Download emulator
Emulator downloads when you initialize the firebase app.

## Get the Firebase CLI
Get Firebase CLI if you haven't already
```
npm install -g firebase-tools
```

## Setup emulator
```
firebase setup:emulators:firestore
```

## Setup exports -- IMPORTANT: Do this before starting emulator for the first time.
The exports folder is ignored by .gitignore so you will not have it. 
To persist data make sure to copy the folder provided to developers inside this directory. 

Note: In case this step is not done before starting the emulator that is fine. Just delete the folder that was generated by firebase after the emulator is stopped then do this step.

## Starting emulator -- IMPORTANT: Setup exports first
This will start the emulator.
```
firebase emulators:start --import exports --export-on-exit exports
```

## Upgrade Java SDK
Upgrade java sdk if starting emulator does not start due to java version.
https://www.oracle.com/java/technologies/downloads/#jdk21-windows

## View UI
AFter starting the emulator the UI should be visible at http://127.0.0.1:4000/ by default. If not check your terminal to see the actual link.

## Restarting emulator
When restarting the emulator be sure to close out the pop ups that appear after starting emulator to free up the ports then run the starting code again. 

## Setting up environment -- IMPORTANT
To have the apis, client, and my-app connect to the emulator. Goto each of their directories and change the FIREBASE_ENV's value to "dev". For my-app instead change REACT_APP_FIREBASE_ENV. 

To user the original firebase project set the value to "beta". To use the new project set the value to "prod". Remember there are 3 .env files to change (apis, client, my-app).
run npm start again for everything to make sure the .env changes are synced. 

## Production environment private key -- IMPORTANT
Be sure to paste the production environment private key into the apis directory
 